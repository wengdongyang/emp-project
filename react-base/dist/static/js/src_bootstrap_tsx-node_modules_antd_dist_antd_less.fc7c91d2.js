(self.webpackChunk_emp_react_base=self.webpackChunk_emp_react_base||[]).push([["src_bootstrap_tsx-node_modules_antd_dist_antd_less","src_layouts_page404_Page404Component_module_less-src_layouts_root_RootComponent_module_less-s-e300cf"],{26069:function(e,t,n){"use strict";n.r(t);var r=n(22491),a=n.n(r),c=n(57673),o=n.n(c),u=(n(57239),n(91250)),i=n(82925),s=n(31929),l=n(78603),m=n(92523),d=n(88280),f=n.n(d),E=n(88987),p=n(4184),h=n(94514),_="SET_BASE_HOST_URL",v="SET_BASE_URL",g="SET_BASE_WEBSOCKET_URL",y="SET_MENUS",w="SET_USER_INFO",N="SET_TOKEN",k="SET_IS_TOGGLE_MENU",I="SET_VIEW_WIDTH",T="SET_VIEW_HEIGHT",R=window.location.protocol,S="192.168.2.60:10090",b="".concat(R,"//").concat(S),U="ws://".concat(S),x=document.documentElement.clientWidth,C=document.documentElement.clientHeight,L={menus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.data;default:return e}},baseURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.data;default:return e}},baseHostURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return t.data;default:return e}},baseWebsocketURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.data;default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.data;default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.data;default:return e}},isToggleMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return t.data;default:return e}},viewWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x-200-20,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return t.data;default:return e}},viewHeight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C-64-22,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return t.data;default:return e}}},M=(0,h.combineReducers)(L),O={key:"react-base",storage:E.Z},B=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):h.compose)((0,h.applyMiddleware)(f())),P=(0,p.persistReducer)(O,M),W=(0,h.createStore)(P,B),Z=(0,p.persistStore)(W),A=n(81109),K=n.n(A),D=n(67154),F=n.n(D),j=n(6479),H=n.n(j),q="MENU",G="INTERNAL_PAGE",Q=[{type:G,name:"首页",owner:"self",path:"home"}].map((function(e){var t=e.children,n=void 0===t?[]:t,r=H()(e,["children"]),a=n.map((function(e){return K()(K()({},e),{},{id:(1e10*Math.random()).toFixed(0)})}));return K()(K()({},r),{},{children:a,id:(1e10*Math.random()).toFixed(0)})})),V=function(e){return{type:y,data:e}},X=function(e){return{type:w,data:e}},Y=function(e){return{type:N,data:e}},z=(document.documentElement.clientWidth,function(e){return{type:k,data:e}}),J=function(e){return{type:I,data:e}},$=function(e){return{type:v,data:e}},ee=function(e){return{type:v,data:e}},te=function(e){return{type:g,data:e}},ne=(n(1025),n(65400)),re=n(59713),ae=n.n(re),ce=n(87757),oe=n.n(ce),ue=n(48926),ie=n.n(ue),se=n(63038),le=n.n(se),me="i_AHsqB_Cn7QxnPSY5pf5",de="_1JCQi4WCyTjgB2mdaUUm8n",fe="_1J-7FPDf4Z2p2xW6VM429R",Ee=function(e){e.baseURL;var t=e.userInfo,n=e.menus,c=(0,r.useRef)(null),o=(0,r.useState)({username:"666666",password:"000000"}),u=le()(o,2),i=u[0],s=u[1],l=function(){var t=ie()(oe().mark((function t(){return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setUserInfo({id:"admin",name:"admin",osId:"adsfasdf"});case 2:return t.next=4,e.setToken("token");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=ie()(oe().mark((function t(){var n;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setMenus(null!==(n=e.menuConfigs)&&void 0!==n?n:Q);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(e,t){s((function(n){return K()(K()({},n),{},ae()({},e,t))}))},f=l,E=function(e){"Enter"===e.key&&f()};return(0,r.useEffect)((function(){e.setMenus([]),e.setToken(""),e.setUserInfo({})}),[]),(0,r.useEffect)((function(){try{return document.addEventListener("keydown",E),function(){return document.removeEventListener("keydown",E)}}catch(e){}}),[i]),(0,r.useEffect)((function(){try{t.osId&&m()}catch(e){}}),[t]),(0,r.useEffect)((function(){try{return null!=t&&t.osId&&null!=n&&n.length&&(c.current=setTimeout((function(){e.history.push({pathname:"/root"})}),300)),function(){c.current&&clearTimeout(c.current)}}catch(e){}}),[t,n]),a().createElement("section",{className:"_3AwjLpi8xsLw1ijWK2YciH"},a().createElement("div",{className:"_2qeCbQqKCqhbOKbxQwXw0I"},a().createElement("div",{className:"_3swvqYBIxoVBpH1-_-v0AD"},a().createElement("div",{className:"_1MT6i8uLMjz2Kpj54m-hxA"},a().createElement("section",{className:"_Zv7Zo_1INqojboMh67pP"},a().createElement("h1",{className:"_3BISLCL5_0QlcWSLw22z4g"},"智能巡检系统"))),a().createElement("div",{className:"_2h9wFob6Cwkw7wBgeOwkh-"},a().createElement("form",{className:"_2TZ285OAqxMSx1UbDOGDWT"},a().createElement("div",{className:me},a().createElement("label",{className:de},"用户名"),a().createElement("input",{className:fe,type:"text",maxLength:6,value:i.username,onChange:function(e){return d("username",e.target.value)}})),a().createElement("div",{className:me},a().createElement("label",{className:de},"密码"),a().createElement("input",{className:fe,type:"password",value:i.password,onChange:function(e){return d("password",e.target.value)}})),a().createElement("div",{className:me},a().createElement(ne.default,{type:"primary",size:"large",block:!0,onClick:f},"登录")))))))},pe=document.documentElement.clientWidth,he=(0,u.connect)((function(e){return K()({},e)}),(function(e){return{setBaseURL:function(t){return e(ee(t))},setBaseHostURL:function(t){return e($(t))},setBaseWebsocketURL:function(t){return e(te(t))},setMenus:function(t){return e(V(t))},setUserInfo:function(t){return e(X(t))},setToken:function(t){return e(Y(t))},setIsToggleMenu:function(t){return e(z(t))},setViewWidth:function(t){return e(J(t?pe-80-20:pe-200-20))}}}))((function(e){return a().createElement(Ee,F()({},e,{menuConfigs:Q}))})),_e="_1oICxdm1KQ1qaO_X4wSP6x",ve="_1m1a8L9zYmIleklG1jcWcH",ge=n(78713),ye=n.n(ge),we=n(12183),Ne=n(12386),ke=n(16373),Ie=n(11187),Te=n(24112),Re=n.n(Te),Se=function e(t,n,r){for(var a=r||{keyKey:"key",childrenKey:"children"},c=a.keyKey,o=a.childrenKey,u={},i=0;i<t.length;i++){var s=t[i];if(s[c]===n&&(u=s),u&&!(0,we.isEmpty)(u))break;var l=s[o];if(null!=l&&l.length&&(u=e(l,n,r)),u&&!(0,we.isEmpty)(u))break}return u},be=n(48865),Ue=n.n(be);Ue().interceptors.request.use(function(){var e=ie()(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.withCredentials=!0,e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),Ue().interceptors.response.use((function(e){return console.info(e),e}),(function(e){if(e.response)switch(e.response.status){case 401:Ie.default.error({content:"登录失效，请重新登陆!"})}return Promise.reject(e)}));var xe=n(77928),Ce=(n(6373),n(82891)),Le=(n(54214),"_2Lw4WjypohRpejU-fx78Rg"),Me=function(e){var t=e.userInfo;return a().createElement(r.Fragment,null,a().createElement(Ce.Z,{trigger:["click"],overlay:a().createElement(Ne.Z,null,a().createElement(Ne.Z.Item,null,"菜单"))},a().createElement("div",{className:Le},t.name)))},Oe=function(){return a().createElement("section",{className:"_362qIwNkgwONBiEt14DxED"},"Page404")},Be=function(){return a().createElement(Oe,null)},Pe=function(e){return a().createElement("section",{className:"_11WmntsI169TaA25YN6TEa"},"基础首页")},We=(0,u.connect)((function(e){return K()({},e)}),(function(e){return{}}))((function(e){return a().createElement(Pe,e)})),Ze=function(){return a().createElement(m.Switch,null,a().createElement(m.Route,{path:"/root",exact:!0,render:function(){return a().createElement(m.Redirect,{to:"/root/innerPage/self/home"})}}),a().createElement(m.Route,{path:"/root/innerPage/self/home",exact:!0,component:We}),a().createElement(m.Route,{path:"/root/page404",exact:!0,component:Be}))},Ae=ke.Z.Header,Ke=ke.Z.Content,De=ke.Z.Sider,Fe=Ne.Z.SubMenu,je=function(e){var t=e.menus,n=e.isToggleMenu,c=e.history.location.pathname,o=(0,r.useState)({}),u=le()(o,2),i=u[0],s=u[1],l=function(){e.setIsToggleMenu(!n)};return(0,r.useEffect)((function(){var e=c.split("/").filter((function(e){return e})),n=le()(e,3),r=(n[0],n[1],n[2]),a=Se(t,r,{keyKey:"path",childrenKey:"children"});s(a)}),[]),a().createElement(r.Fragment,null,a().createElement(ke.Z,{className:"_1zLQAI1nrqxB89mSv9dlpb"},a().createElement(De,{className:"_3C14RIN1UtBwrvZrJvQqr6",collapsible:!0,collapsed:n,trigger:null,onCollapse:function(t){return e.setIsToggleMenu(t)}},a().createElement("header",{className:"MFYywT8HBcA-o-jd9AKET"},"LOGO"),a().createElement("section",{className:"_3WDqI3T3IYpc9jUKJjj7B5"},a().createElement(Ne.Z,{mode:"inline",selectedKeys:null!=i&&i.id?[i.id]:[],onClick:function(n){return function(n){var r=function(e,t){var n={};return e.forEach((function(e){var r;e.id===t?n=e:null!==(r=e.children)&&void 0!==r&&r.length&&e.children.forEach((function(e){e.id===t&&(n=e)}))})),n}(t,n);if((0,we.isEmpty)(r))Ie.default.error("菜单问题！");else switch(r.type){case G:case"FRIEND_INNER_PAGE":e.history.push({pathname:"/root/innerPage/".concat(r.owner,"/").concat(r.path)}),s(r);break;case"FRIEND_INNER_IFREAM":e.history.push({pathname:"/root/iframe/".concat(r.owner),search:ye().stringify({path:r.path})}),s(r);break;case"FRIEND_BLANK_PAGE":window.open(r.path,"_blank");break;case q:default:s(r)}}(n.key.toString())}},t.map((function(e){var t;return a().createElement(r.Fragment,{key:e.id},e.type!==q?a().createElement(Ne.Z.Item,{key:e.id,icon:a().createElement(Re(),{className:_e},a().createElement(xe.Z,{icon:"menu-".concat(e.path)}))},e.name):a().createElement(Fe,{key:e.id,title:e.name,icon:a().createElement(Re(),{className:_e},a().createElement(xe.Z,{icon:"menu-".concat(e.path)}))},null==e||null===(t=e.children)||void 0===t?void 0:t.map((function(e){return a().createElement(Ne.Z.Item,{key:e.id},e.name)}))))}))))),a().createElement(ke.Z,{className:"_3ScC-dPnEpicDCN6NYpPAa"},a().createElement(Ae,{className:"_2P4yfiKJX37UL-AIsn617v"},a().createElement(r.Fragment,null,n?a().createElement(Te.MenuUnfoldOutlined,{className:ve,onClick:l}):a().createElement(Te.MenuFoldOutlined,{className:ve,onClick:l})),a().createElement("h1",{className:"_2xGo3iUhTekoiPVNx_CPPO"},"智能巡检系统"),a().createElement(Me,e)),a().createElement(Ke,{className:"_17SqTGmxQS6NUu-p1FXXP3"},e.viewRouterComponent||a().createElement(Ze,null)))))},He=document.documentElement.clientWidth,qe=(0,u.connect)((function(e){return K()({},e)}),(function(e){return{setBaseURL:function(t){return e(ee(t))},setBaseHostURL:function(t){return e($(t))},setBaseWebsocketURL:function(t){return e(te(t))},setMenus:function(t){return e(V(t))},setUserInfo:function(t){return e(X(t))},setToken:function(t){return e(Y(t))},setIsToggleMenu:function(t){return e(z(t))},setViewWidth:function(t){return e(J(t?He-80-20:He-200-20))}}}))((function(e){return a().createElement(je,F()({},e,{viewRouterComponent:a().createElement(Ze,null)}))})),Ge=function(){return a().createElement(u.Provider,{store:W},a().createElement(l.r,{loading:null,persistor:Z},a().createElement(s.default,{locale:i.Z},a().createElement(m.BrowserRouter,null,a().createElement(m.Switch,null,a().createElement(m.Route,{path:"/",exact:!0,render:function(){return a().createElement(m.Redirect,{to:"/login"})}}),a().createElement(m.Route,{path:"/login",exact:!0,component:he}),a().createElement(m.Route,{path:"/root",component:qe}))))))};o().render(a().createElement(Ge,null),document.getElementById("emp-root"))}}]);